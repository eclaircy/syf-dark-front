<template> 
   <!-- <div style="margin-top: 15px;width:500px;margin-left:30px;">
    <el-input placeholder="请输入内容" v-model="input3" class="input-with-select" clearable>
      <el-select v-model="categoryForm.select" slot="prepend" placeholder="请选择" >
        <el-option
          v-for="item in categoryForm.categoryList"
          :key="item.value"
          :label="item.label"
          :value="item.value">
        </el-option>
      </el-select>
      <el-button slot="append" icon="el-icon-search" @click="clickSearch(1)"></el-button>
    </el-input>
  </div> -->
</template>

<script>


export default {
  data() {
    return {
      input1: '',
      input2: '',
      input3: '',
      // select: '',
      sitesInfoByPage:{},
      categoryForm:{
        categoryList:[
          {
            label:" ",
            value:"1",
          },
          {
            label:"IP",
            value:"ip",
          },
          {
            label:"URL",
            value:"url",
          },
          {
            label:"端口",
            value:"port",
          },
          {
            label:"公司",
            value:"company",
          },
          {
            label:"国家",
            value:"country",
          },
          {
            label:"网站标题",
            value:"siteTitle",
          },

        ],
        select:'',
      },

    }
  },
  methods:{
    clickSearch(page){ //
      this.axios({
        url:"api/sites/?"+`${this.categoryForm.select}`+ "="+ `${this.input3}`,
        method: 'get',
        params:{
          "page":page,
        }
      }).then(res=>{
        console.log(res);
        console.log(res.data.data.records);
        this.sitesInfoByPage = res.data.data;
        this.$emit("getSearchResult",this.sitesInfoByPage) //发射一个名为getSearchResult的事件，并把数据传给父组件
      })
      // alert(this.input3);
      // alert(this.select);
    },
  },
  created(){
    this.clickSearch(1);
  }
}
</script>

<style>
  .el-select .el-input {
    width: 130px;
  }
  .input-with-select .el-input-group__prepend {
    background-color: #fff;
  }
  .el-option{
    height:30px;
  }

</style>