<template>
    <div class="site-cards-list">
        <el-card class="site-card" v-for="item in sitesInfoByPage" :key="item.id" shadow="hover">

            <div style="text-align: center!important;"> 
                <svg v-if="item.isMalicious==true"  t="1681223578407" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5558" width="30" height="30"><path d="M441.6 642.133333h-256v-362.666666H682.666667v87.466666s70.4-4.266667 106.666666 8.533334v-93.866667s-2.133333-113.066667-108.8-113.066667H192c0 2.133333-106.666667 10.666667-106.666667 119.466667v347.733333s-6.4 115.2 104.533334 115.2 170.666667 2.133333 170.666666 2.133334 10.666667 34.133333-66.133333 51.2c-81.066667 14.933333-153.6 14.933333-164.266667 70.4h430.933334s-125.866667-91.733333-119.466667-232.533334z" fill="#cf1d06" p-id="5559"></path><path d="M725.333333 418.133333c-125.866667 0-228.266667 102.4-228.266666 228.266667S599.466667 874.666667 725.333333 874.666667c125.866667 0 228.266667-102.4 228.266667-228.266667S851.2 418.133333 725.333333 418.133333z m-36.266666 55.466667c10.666667-2.133333 23.466667-4.266667 34.133333-4.266667 12.8 0 25.6 2.133333 38.4 4.266667l-2.133333 2.133333c12.8 36.266667 21.333333 70.4 25.6 104.533334-44.8 6.4-85.333333 4.266667-117.333334 0 4.266667-34.133333 12.8-68.266667 25.6-104.533334l-4.266666-2.133333z m-138.666667 206.933333c-2.133333-10.666667-4.266667-21.333333-4.266667-34.133333 0-19.2 4.266667-38.4 10.666667-57.6 19.2 10.666667 40.533333 17.066667 59.733333 23.466667-2.133333 27.733333-2.133333 55.466667 2.133334 87.466666-42.666667-8.533333-68.266667-19.2-68.266667-19.2z m21.333333 51.2c19.2 6.4 38.4 12.8 55.466667 17.066667 4.266667 17.066667 8.533333 34.133333 14.933333 53.333333-29.866667-14.933333-55.466667-40.533333-70.4-70.4z m51.2-162.133333c-25.6-6.4-42.666667-14.933333-46.933333-17.066667 17.066667-27.733333 40.533333-49.066667 68.266667-64-8.533333 21.333333-17.066667 49.066667-21.333334 81.066667z m136.533334 249.6c-10.666667 2.133333-23.466667 4.266667-34.133334 4.266667s-21.333333-2.133333-32-2.133334c0-2.133333-10.666667-25.6-19.2-64 38.4 4.266667 72.533333 4.266667 104.533334 0-8.533333 34.133333-17.066667 55.466667-19.2 61.866667z m25.6-110.933333c-44.8 6.4-85.333333 4.266667-119.466667 0-2.133333-25.6-4.266667-53.333333-2.133333-83.2 46.933333 8.533333 89.6 6.4 125.866666 0 0 29.866667 0 57.6-4.266666 83.2zM874.666667 554.666667c-14.933333 6.4-29.866667 10.666667-44.8 14.933333-6.4-32-12.8-57.6-19.2-76.8 25.6 14.933333 49.066667 36.266667 64 61.866667z m-64 245.333333c6.4-17.066667 10.666667-34.133333 14.933333-51.2 21.333333-4.266667 38.4-10.666667 53.333333-17.066667-14.933333 29.866667-38.4 53.333333-68.266666 68.266667z m87.466666-119.466667c-21.333333 8.533333-42.666667 14.933333-64 19.2 4.266667-32 4.266667-59.733333 2.133334-87.466666 32-10.666667 53.333333-21.333333 57.6-23.466667 6.4 17.066667 10.666667 36.266667 10.666666 57.6-2.133333 12.8-4.266667 23.466667-6.4 34.133333z" fill="#cf1d06" p-id="5560"></path></svg>
                <svg v-if="item.isMalicious==false"   t="1681223578407" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5558" width="30" height="30"><path d="M441.6 642.133333h-256v-362.666666H682.666667v87.466666s70.4-4.266667 106.666666 8.533334v-93.866667s-2.133333-113.066667-108.8-113.066667H192c0 2.133333-106.666667 10.666667-106.666667 119.466667v347.733333s-6.4 115.2 104.533334 115.2 170.666667 2.133333 170.666666 2.133334 10.666667 34.133333-66.133333 51.2c-81.066667 14.933333-153.6 14.933333-164.266667 70.4h430.933334s-125.866667-91.733333-119.466667-232.533334z" fill="#1aaba8" p-id="5559"></path><path d="M725.333333 418.133333c-125.866667 0-228.266667 102.4-228.266666 228.266667S599.466667 874.666667 725.333333 874.666667c125.866667 0 228.266667-102.4 228.266667-228.266667S851.2 418.133333 725.333333 418.133333z m-36.266666 55.466667c10.666667-2.133333 23.466667-4.266667 34.133333-4.266667 12.8 0 25.6 2.133333 38.4 4.266667l-2.133333 2.133333c12.8 36.266667 21.333333 70.4 25.6 104.533334-44.8 6.4-85.333333 4.266667-117.333334 0 4.266667-34.133333 12.8-68.266667 25.6-104.533334l-4.266666-2.133333z m-138.666667 206.933333c-2.133333-10.666667-4.266667-21.333333-4.266667-34.133333 0-19.2 4.266667-38.4 10.666667-57.6 19.2 10.666667 40.533333 17.066667 59.733333 23.466667-2.133333 27.733333-2.133333 55.466667 2.133334 87.466666-42.666667-8.533333-68.266667-19.2-68.266667-19.2z m21.333333 51.2c19.2 6.4 38.4 12.8 55.466667 17.066667 4.266667 17.066667 8.533333 34.133333 14.933333 53.333333-29.866667-14.933333-55.466667-40.533333-70.4-70.4z m51.2-162.133333c-25.6-6.4-42.666667-14.933333-46.933333-17.066667 17.066667-27.733333 40.533333-49.066667 68.266667-64-8.533333 21.333333-17.066667 49.066667-21.333334 81.066667z m136.533334 249.6c-10.666667 2.133333-23.466667 4.266667-34.133334 4.266667s-21.333333-2.133333-32-2.133334c0-2.133333-10.666667-25.6-19.2-64 38.4 4.266667 72.533333 4.266667 104.533334 0-8.533333 34.133333-17.066667 55.466667-19.2 61.866667z m25.6-110.933333c-44.8 6.4-85.333333 4.266667-119.466667 0-2.133333-25.6-4.266667-53.333333-2.133333-83.2 46.933333 8.533333 89.6 6.4 125.866666 0 0 29.866667 0 57.6-4.266666 83.2zM874.666667 554.666667c-14.933333 6.4-29.866667 10.666667-44.8 14.933333-6.4-32-12.8-57.6-19.2-76.8 25.6 14.933333 49.066667 36.266667 64 61.866667z m-64 245.333333c6.4-17.066667 10.666667-34.133333 14.933333-51.2 21.333333-4.266667 38.4-10.666667 53.333333-17.066667-14.933333 29.866667-38.4 53.333333-68.266666 68.266667z m87.466666-119.466667c-21.333333 8.533333-42.666667 14.933333-64 19.2 4.266667-32 4.266667-59.733333 2.133334-87.466666 32-10.666667 53.333333-21.333333 57.6-23.466667 6.4 17.066667 10.666667 36.266667 10.666666 57.6-2.133333 12.8-4.266667 23.466667-6.4 34.133333z" fill="#1aaba8" p-id="5560"></path></svg>
                <div style="font-size: 18px;margin-top: 10px;margin-bottom: 18px;">
                    <!-- 恶意按钮 -->
                    <el-tooltip class="item" effect="dark" content="查看网站画像" placement="right">
                        <el-button v-if="item.isMalicious==true" @click="jumtoSiteDetail(item.id)"  size="small" type='danger' round style="font-weight:bold">
                            {{ item.domain }}
                        </el-button>
                    </el-tooltip>
                    
                     <!-- 正常按钮#1aaba8 -->
                     <el-tooltip class="item" effect="dark" content="查看网站画像" placement="right" style="width: 50px;display: inline;">
                        <div v-if="item.isMalicious==false" @click="jumtoSiteDetail(item.id)" style="font-size: 18px;margin-top: 10px;margin-bottom: 18px;">
                            <button type="button" class="el-button el-button--danger el-button--small is-round" style="font-weight: bold;background-color:#1aaba8;border-color:#1aaba8">
                                <span>{{ item.domain }}</span>
                            </button>
                        </div>
                     </el-tooltip>

                </div>
            </div>

            <div class="site-info">
                <div class="site-info" style="">
                    <el-descriptions class="margin-top" :column="1" size="mini" border>
                        <el-descriptions-item  label="网站标题">
                            {{item.siteTitle}}
                        </el-descriptions-item>
                        <el-descriptions-item  label="IP">
                            {{item.ip}}
                        </el-descriptions-item>
                        <el-descriptions-item  label="端口">
                            {{item.port}}
                        </el-descriptions-item>
                        <el-descriptions-item  label="地区">
                            {{item.country}}{{`-`+item.province}}
                        </el-descriptions-item>
                        <el-descriptions-item  label="公司">
                            <span v-if="item.companyName==null"></span>
                            <span v-else-if="item.companyName.length==2 || item.companyName.length==3" >
                                {{  nodeName = pinyin.getFullChars(item.companyName)}}
                            </span>
                            <span v-else>{{item.companyName}}</span>  
                        </el-descriptions-item>

                        <el-descriptions-item  label="法定代表人">
                            <span v-if="item.personName!=null">{{pinyin.getFullChars(item.personName)}}</span>
                        </el-descriptions-item>
                    </el-descriptions>
                </div>
            </div>
        </el-card>
    </div>

</template>

<script>
let pinyin = require('js-pinyin');
pinyin.setOptions({checkPolyphone: false, charCase: 0});

export default {
    data() {
        return {
            sitesInfoByPage:this.sitesInfoByPage,
            pinyin:pinyin,
        };
    },
    props:["sitesInfoByPage"],
    methods:{
        jumtoSiteDetail(sid){
            console.log(sid)
            this.$router.push({path:"/sites/detail",query: {id:sid}})
        },
    },
    mounted(){
        
    },

}
</script>


<style scoped>

    .tag{
        margin-right: 10px;
        margin-bottom: 10px;
    }

  .site-card{
    margin-left: 12px !important;
    margin-bottom: 10px !important;
    margin-top: 20px;
    /*width:400px;*/
    width: 32%; /* 每个卡片占用 48% 的宽度，加上左右边距正好占用一行的宽度 */
    margin: 1%;
    border-radius:14px;
  }
    
  /* 设置网站卡片容器宽度高度*/
  .site-cards-list{
    width: 997px;
    display: flex;
    flex-wrap: wrap;
}

::v-deep .el-card {
    margin: 0px;
  }

  /deep/ .el-descriptions-item__label.is-bordered-label {
    font-weight: bold;
    color: #909399;
    background: #fafafa;
    width: 50px;
  }

  /deep/.el-descriptions-item__content {
    word-break: break-word;
    overflow-wrap: break-word;
    width: 100px;
}

</style>

